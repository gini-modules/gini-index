doctype html
head
  meta(http-equiv='Content-Type', content='text/html; charset=UTF-8')
  title= title
  meta(http-equiv='Content-Style-Type', content='text/css')
  meta(http-equiv='Content-Script-Type', content='text/javascript')
  link(rel='stylesheet', href='https://unpkg.com/purecss@1.0.0/build/pure-min.css', integrity='sha384-nn4HPE8lTHyVtfCBi5yW9d20FjT8BJwUXyWZT9InLYax14RDjBj46LmSztkmNP9w', crossorigin='anonymous')
  link(rel='stylesheet', href='https://cdn.bootcss.com/font-awesome/4.7.0/css/font-awesome.min.css')
  base(href=baseUri)
  style
    | a { color: #666; text-decoration: none }
    | a:hover { color: #000; }
body(style='padding:0 1em')
  .content(style='max-width:960px;margin:0 auto') 
    .pure-g
      .pure-u-1-2
        h1(style='text-align:center')= node.isRoot() ? title : node.getName()
        div(style='text-align:right') #{count(subNodes)} 个项目
    .pure-g
      .pure-u-1-2
        table.pure-table.pure-table-horizontal(style='width:100%')
          thead
            tr
              th 项目名称
              th 最近更新
          tbody
            if !node.isRoot()
              tr
                td
                  a(href='..')
                    i.fa.fa-reply
                    &nbsp;
                    回到上级目录
                td
            for subNode in subNodes
              tr
                td
                  if in_array('{DAV:}collection', subNode.type)
                    i.fa.fa-folder
                  else
                    i.fa.fa-file-archive-o
                  &nbsp;&nbsp;
                  a(href=subNode.path)
                    = subNode.name
                td
                  small= subNode.mtime
        div(style='text-align:center')
          div
            h2(style='color:#999') Genee &copy; 2017
      .pure-u-1-2
        div(style='padding:0 1em')
          for log in logs
            div(style='padding:.2em .5em; border-bottom:1px dotted #ccc')
              small(style='color:#666')= log.timestamp.format('Y-m-d H:i:s')
              p(style='margin:0 0 5px')= log.message